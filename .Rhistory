library(MSGene)
ls()
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(
data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
library(data.table)
modelfit = fitfunc2(
data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
head(train)
train$Cad_0_censor_age
modelfit = fitfunc2(
data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
train$Cad_0_censor_age
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(df_frame = data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
df=data.table(train)
modelfit = fitfunc2(df_frame = data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
modelfit = fitfunc2(df_frame = df,
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
# source("~/multistate2//code/utils.R")
# source("~/multistate2//code/smoothtest.R")
# source("~/multistate2//code/newsmooth.R")
# source("~/multistate2/code/fitarray.R")
library("reshape2")
# source("~/multistate2/code/arrayindicate.R")
#
modelfit = fitfunc2(df_frame = df,
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
train$Cad_0_censor_age
modelfit = fitfunc2(df_frame = df,
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
source("~/multistate2//code/utils.R")
source("~/multistate2//code/smoothtest.R")
source("~/multistate2//code/newsmooth.R")
source("~/multistate2/code/fitarray.R")
library("reshape2")
source("~/multistate2/code/arrayindicate.R")
## training data: ask for access
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(
data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
ls()
rm(list=ls())
library(MSGene)
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(
data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
ls()
ls()
library(MSGene)
ls()
rm(list=ls())
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(
data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
library(data.table)
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(
data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
class(data.table(dfh))
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(
df_frame = data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
library("reshape2")
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(
df_frame = data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
source("~/multistate2//code/utils.R")
source("~/multistate2//code/smoothtest.R")
source("~/multistate2//code/newsmooth.R")
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(
df_frame = data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
source("~/multistate2/code/fitarray.R")
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(
df_frame = data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
library(MSGene)
ls()
rm(ls=ls())
rm(list=ls())
ls()
library(MSGene)
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(
data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
source("../multistate2/code/fitarray.R")
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(
data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
fitfunc
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(
df_frame=data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
environment()
library(MSGene)
load("~/Library/CloudStorage/Dropbox-Personal///pheno_dir/output/merged_pheno_censor_final_withdrugs_smoke.rds")
train=dfh[1:(nrow(dfh)*0.80),]
ages=c(40:80)
nstates=c("Health", "Ht","HyperLip","Dm","Cad","death","Ht&HyperLip","HyperLip&Dm","Ht&Dm","Ht&HyperLip&Dm")
modelfit = fitfunc2(
df_frame=data.table(train),
ages = ages,
nstates = nstates,
mode = "binomial",
covariates = "cad.prs+f.31.0.0+smoke+antihtn_now+statin_now")
library(MSGene)
library(MSGene)
library(MSGene)
